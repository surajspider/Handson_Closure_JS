<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures-Handson-JS</title>
    <style>
        .answer{
            text-decoration: underline;
        }
        .code{
            font-size: large;
            font-weight: bold;
            color:green;
        }
        .backcolor{
            background-color: aquamarine;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;" class="answer">Closures - Handson - JS</h1>
    <hr>
    <h2>Q1. <pre>
            function counter(){
                var counter = 0;
                function IncreaseCounter() {
                    return counter += 1;
                };
                return IncreaseCounter;
            }
            var counter = counter();
            alert(counter());
            alert(counter());
            alert(counter());
            alert(counter());
    </pre> </h2>
    <h3 class="answer">Answer:</h3>
    <h3 style="font-style: italic;">Output : <span class="backcolor">1 2 3 4</span></h3>
    <h3 style="font-style: italic;">Reason - Firstly, <span class="backcolor">counter() function</span>
        is assigned to a variable <span class="backcolor">var counter</span> which is also known as the
        first class function. Now, variable <span class="backcolor">counter</span> holds a function
        <span class="backcolor">IncreaseCounter()</span> which is returned by a counter(). Initially, 
        counter is initialized with 0. So, whenver IncreaseCounter() is called, counter variable is incremented
        by 1 because the <span class="backcolor">counter variable is retained in the closure of the 
        IncreaseCounter()</span>.
    </h3>
    <hr>
    <h2>Q2. <pre>
        let count = 0;
        (function () {
            if (count === 0) {
                let count = 1;
                console.log(count); // What is logged?
            }
            console.log(count); // What is logged?
        })();
    </pre></h2>
    <h3 class="answer">Answer:</h3>
    <h3 style="font-style: italic;">Output : <span class="backcolor">1 & 0</span></h3>
    <h3>Reason: Count is declared and initialized with 0. The function is invoked immediately which is known as <span class="backcolor">IIFE(Immediately Invoked function
        Expression).</span> Now, the count is compared with 0 and passes into the if condition. Since, the second count variable is declared again with <span class="backcolor">let
        which is block scope.</span> so, count is declared again locally within the block scope and prints as 1. Then,globally the count value is 0. So, 
        now with help of <span class="backcolor">closure, count is found global and retains its value and prints 0.</span> 
    </h3>
    <hr>
    
    <script src="./index.js"></script>
</body>
</html>